# LLMville

A social simulation game where AI-powered NPCs live have conversations, persist relationships, and take actions in a sandbox environment.

![Game Screenshot](screenshots/gameplay.png)

## What is this?

LLMville is a 2D town simulation where characters:
- Have dynamic conversations generated by LLMs
- Form relationships based on their interactions
- Trade items, give gifts, and remember past encounters

Each NPC has a unique personality (friendliness, honesty, greed, etc.) that influences how they talk and behave. Relationships evolve naturally—characters remember what others said and their feelings change over time.

## Features

- **AI Conversations**: NPCs chat using LLMs, with dialogue influenced by their personality and past experiences
- **Relationship System**: Characters form opinions and remember interactions
- **Procedural World**: 50x50 grid with roads, buildings, water, and terrain
- **Day/Night Cycle**: Time passes, affecting NPC schedules
- **Trading & Gifts**: Characters can exchange items mid-conversation

## Quick Start

```bash
# Install dependencies
pip install -r requirements.txt

# (Optional) Add your Claude API key for real AI conversations
cp .env.example .env
# Edit .env and add: ANTHROPIC_API_KEY=sk-ant-...

# Run the game
python main.py
```

## Controls

| Input | Action |
|-------|--------|
| **WASD / Arrows** | Pan camera |
| **+ / -** | Zoom in/out |
| **Scroll** | Zoom or scroll dialogue |
| **Click** | Select NPC |
| **Space** | Pause/Resume |
| **Esc** | Close panel / Quit |

## How It Works

1. NPCs spawn with random names, personalities, and roles (Shopkeeper, Guard, Farmer, etc.)
2. They pathfind around town using A* algorithm
3. When two NPCs get close, they might start a conversation
4. Claude generates dialogue based on their personalities and relationship history
5. After chatting, their relationship updates based on how things went

## Project Structure

```
llmville/
├── main.py              # Entry point
├── config.py            # Game settings
├── src/
│   ├── core/            # Game loop, world, time
│   ├── entities/        # Person, items, entity manager
│   ├── systems/         # Movement, relationships, health
│   ├── ai/              # Claude integration, prompts, conversation logic
│   ├── interaction/     # Dialogue manager, trading
│   ├── rendering/       # Pygame rendering
│   └── ui/              # HUD, panels
└── assets/              # Sprites and tiles
```

## Tech Stack

- **Python 3.10+**
- **Pygame** - 2D rendering
- **Anthropic API** - Claude for NPC dialogue
- **python-dotenv** - Environment config

## Configuration

Key settings in `config.py`:
- Window: 1600x900 @ 60 FPS
- Grid: 50x50 tiles
- Time: 1 real second = 1 game minute
- AI Model: Claude Haiku

## License

MIT
